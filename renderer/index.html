<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>PDF Splitter</title>
  <link href="./output.css" rel="stylesheet" />
</head>

<body class="bg-gray-100 flex flex-col items-center">
  <header class=" border-b p-0 sticky top-0 bg-white z-10">
    <!-- toolbar -->
    <div class="flex flex-row justify-between items-center w-screen px-4 py-4">
      <div class="flex-none items-center gap-4">
        <button id="prevPage" class="bg-gray-300 px-2 py-1 rounded">上一頁</button>
        <span id="pageInfo">第 0 頁</span>
        <button id="nextPage" class="bg-gray-300 px-2 py-1 rounded">下一頁</button>
      </div>
      <div class="flex-none text-2xl font-bold">PDF Splitter</div>
      <div class="flex items-stretch gap-4">
        <div class="relative">
          <label for="pdfInput"
            class="flex items-center justify-center cursor-pointer bg-sky-500 hover:bg-sky-600 text-base text-white px-4 py-2 rounded transition border-none h-full">
            選擇檔案
          </label>
          <input type="file" id="pdfInput" accept="application/pdf"
            class="absolute inset-0 w-0 h-0 hidden -z-10 opacity-0 cursor-pointer" />
        </div>
        <button id="exportBtn"
          class="flex items-center justify-center bg-sky-500 hover:bg-sky-600 text-base text-white px-4 py-2 rounded transition h-full">
          匯出 PDF
        </button>
      </div>
    </div>
  </header>
  <main class="p-4">
    <div class="flex justify-start items-center space-x-2 ml-4 w-full">
      <label for="scaleInput" class="text-sm font-medium">縮放:</label>
      <input id="scaleInput" type="range" value="1" step="0.1" min="0.5" max="1.5"
        class="w-32 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-sky-500" />
    </div>
    <div class="overflow-x-auto max-w-[825px]">
      <canvas id="pdfCanvas" class="border-2 border-slate-300 mb-4 rounded"></canvas>
    </div>
  </main>
  <!-- Progress Dialog -->
  <div id="progressDialog" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-lg w-80 p-6 text-center">
      <h2 class="text-lg font-semibold mb-4">處理中...</h2>
      <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
        <div id="progressBar" class="bg-blue-500 h-full text-white text-xs text-center transition-all duration-200"
          style="width: 0%">
          0%
        </div>
      </div>
      <p id="progressText" class="text-sm text-gray-600 mt-4">請稍候</p>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="./renderer.js"></script>
</body>

</html>